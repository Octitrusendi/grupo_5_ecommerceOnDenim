<%- include('partials/head.ejs') %>
<%- include('partials/headProductDeail.ejs') %>
<%- include('partials/header.ejs') %>
               <main>
                <!-- seccion 1 (carrusel de imagenes, se termina con js) -->
                <section>
                <!-- carrusel de fotos -->
                <div class="producto">
                        <div class="left">
                                <div class="imgProduct "></div>
                        </div>
                        <div class="right">
                                <div class="nameProduct">
                                        <label><%= jean.name %> </label>
                                </div>
                                <div class="priceProduct">
                                        <h2>Valor por transferencia o efectivo</h2>
                                        <h2>$<%= jean.price.toFixed(0) %></h2>
                                </div>
                                <div class="quotesProduct">
                                        <div class="quotesleft">
                                                <div class="quotes "></div>
                                                <div class="quotes "></div>
                                        </div>
                                        <div class="quotesright">
                                                <p>6 cuotas sin interes de $2.500</p>
                                                <p>9 o 12 cuotas con interes</p>
                                        </div>
                                </div>
                                <div class='listaTalle'>
                                        <div class='title pointerCursor'> TALLE <i class="fa fa-bars"></i></div>
                                
                                                <div class='menu pointerCursor hide'>
                                                        <div class='option' id='option1'>34</div>
                                                        <div class='option' id='option2'>36</div>
                                                        <div class='option' id='option3'>38</div>
                                                        <div class='option' id='option4'>40</div>
                                                        <div class='option' id='option3'>42</div>
                                                        <div class='option' id='option4'>44</div>
                                                        <div class='option' id='option3'>46</div>
                                                        <div class='option' id='option4'>48</div>
                                                </div>
                                        </div>
                                
                                <div class="chart">
                                        <button type="submit" title="addToChart" name="AGREGAR AL CARRITO">AGREGAR AL CARRITO</button>
                                </div>
                                </div>
                        </div>
                <div class="descript">
                        <div class="left">
                                <div class="descriptionText">
                                        <label>DESCRIPCION</label>
                                        <p>Jeans premium tiro medio, Relax fit, tejido confortable. Lavado mid blue con localizados, bigotes y roturas sutiles. 99% Algodon - 1% Elastano
                                           Lavar a mano o a maquina con agua fri­a y ciclo corto / Lavar y tender del reves / No usar blanqueadores ni cloro / Centrifugado corto / Secar en superficie plana / Esta prenda puede desteñir y manchar / Lavar colores oscuros por separado     
                                        </p>
                                </div>
                        </div>
                        <div class="right">
                                <div class="contact">
                                        <label>DATOS DEL VENDEDOR</label>
                                        <p>Juan Victor Baroni (2477-6781144)                                
                                        </p>
                                </div>
                        </div>
                </section>

<%- include('partials/newCollection.ejs') %>       
        </main>
<%- include('partials/footer.ejs') %>
</body>
<%- include('partials/scriptNav.ejs') %>
</html>
<script>
        function toggleClass(elem,className){
                if (elem.className.indexOf(className) !== -1){
                  elem.className = elem.className.replace(className,'');
                }
                else{
                  elem.className = elem.className.replace(/\s+/g,' ') + 	' ' + className;
                }
              
                return elem;
              }
              
              function toggleDisplay(elem){
                const curDisplayStyle = elem.style.display;			
              
                if (curDisplayStyle === 'none' || curDisplayStyle === ''){
                  elem.style.display = 'block';
                }
                else{
                  elem.style.display = 'none';
                }
              
              }
              
              function toggleMenuDisplay(e){
                const dropdown = e.currentTarget.parentNode;
                const menu = dropdown.querySelector('.menu');
                const icon = dropdown.querySelector('.fa-angle-right');
              
                toggleClass(menu,'hide');
                toggleClass(icon,'rotate-90');
              }
              
              function handleOptionSelected(e){
                toggleClass(e.target.parentNode, 'hide');			
              
                const id = e.target.id;
                const newValue = e.target.textContent + ' ';
                const titleElem = document.querySelector('.listaTalle .title');
                const icon = document.querySelector('.listaTalle .title .fa');
              
              
                titleElem.textContent = newValue;     //cambiar titulo
                titleElem.appendChild(icon);
              
                //eventos personalizados
                document.querySelector('.listaTalle .title').dispatchEvent(new Event('change'));
                  //setTimeout is used so transition is properly shown
                //setTimeout(() => toggleClass(icon,'rotate-90',0));*/
              }
              
              function handleTitleChange(e){
                const result = document.getElementById('result');
                result.innerHTML = 'The result is: ' + e.target.textContent;
              }
              
              //get elements
              const listaTalleTitle = document.querySelector('.listaTalle .title');
              const listaTalleOptions = document.querySelectorAll('.listaTalle .option');
              
              //bind listeners to these elements
              listaTalleTitle.addEventListener('click', toggleMenuDisplay);
              
              listaTalleOptions.forEach(option => option.addEventListener('click',handleOptionSelected));
              
              document.querySelector('.listaTalle').addEventListener('change',handleTitleChange);
                </script>
</html>
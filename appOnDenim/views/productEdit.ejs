<%- include('partials/head.ejs') %>
<%- include('partials/headProductAdd.ejs') %>
<%- include('partials/header.ejs') %>
<div class="contenedorFormulario">
    <div >
      <h2 class="products-title">Editar producto <%= productoAeditar.name %></h2>
    </div>
  <div >
    <form action="/productos/<%=productoAeditar.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
      <div class="product-detail">
        <div >
          <label for="name" class="form-label">Nombre del producto:</label>
          <input type="text" id="name" name="name" placeholder="Ej: Jean...XX" value="<%= productoAeditar.name %>" class="form-input">
        </div>
        <div >
          <label for="price" class="form-label">Precio del producto:</label>
          <input type="number" id="price" name="price" placeholder="Ej: 5678" class="form-input"  value="<%= productoAeditar.price %>" >
        </div>
        <div >
          <label for="sale" class="form-label">Descuento: </label>
          <input type="number" id="sale" name="sale" placeholder="Ej: 15" class="form-input" value="<%= productoAeditar.sale %>" >
        </div>
        <div >
          <label for="talles" class="form-label">Talles: <%= productoAeditar.talle.id %></label> 
          <div class="contenedor-talles">
              <% talles.forEach(allTalles => { %>
               <input type="checkbox" name="talles" id="<%= allTalles.id %>"
                        <% productoAeditar.talle.forEach(element => { %>
                                <% if (element.id == allTalles.id) { %><%= 'checked' %><% } %><% }) %>>
                        <%= allTalles.talles %> |
              <% }) %>
              
            </div>
          </div>
        <div >
          <label for="category" class="form-label">Categoría:</label>
          <select name="category" id="category" class="form-input">
            <option value=""> Seleccionar categoría </option>
            <% allCategorias.forEach(element => { %>
              <option value="<%= element.id %>"
                <% if (categoriasFill.id == element.id) { %>
                  <%= 'selected' %>
              <% } %>>   
              <%= element.name %> </option>
            <% }) %>
          </select>
        </div>
        <div >
          <label for="newCollection" class="form-label">¿New Collection?</label>
          <select name="newCollection"  class="form-input">
            <option value="">Elegí</option>
            <% if (productoAeditar.newCollection == "true") { %>
                  <option value=true selected>Sí</option>
                  <option value=false >No</option>
                  <% } else {    %>
                <option value="1" >Sí</option>
              <option value="0" selected>No</option>
              <% } %>
          </select>
        </div>
        <div >
          <label for="stock" class="form-label">Stock:</label>
          <input type="number" id="stock" name="stock" placeholder="Ej: 15" class="form-input" value="<%= productoAeditar.stock %>">
        </div>
        <div>
          <label for="image" class="form-label">Imagen:</label>
          <input type="file" name="image" id="image" class="form-input create-img" multiple>
        </div>
        <div class="create-descripcion">
          <label for="description" class="form-label">Descripción:</label>
          <textarea name="description" id="description" class="form-input"><%= productoAeditar.description %></textarea>
        </div>

        <div class="create-boton" >
          <button type="submit" class="submit-contacHome">Editar producto</button>
        </div>
      </div>
    </form>
  </div>

</div>


 
      </main>
<%- include('partials/footer.ejs') %>
</body>
<%- include('partials/scriptNav.ejs') %>
</html>